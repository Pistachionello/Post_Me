(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{123:function(e,t,a){e.exports=a(160)},159:function(e,t,a){},160:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(25),l=a.n(c),i=a(73),s=a(40),o=a(15),u=(a(135),a(12)),m=a(14),d=a(5),p=a.n(d),b=a(16),E=a(10),v=a(80),f=a.n(v),h=a(74);function N(){var e=Object(s.useToasts)().addToast,t=Object(n.useState)(!1),a=Object(E.a)(t,2),r=a[0],c=a[1],l=new AbortController,i=l.signal;return{abort:function(){return l.abort()},loading:r,request:Object(n.useCallback)(function(){var t=Object(b.a)(p.a.mark((function t(a,n){var r,l;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return c(!0),n&&n.body&&(n.body=JSON.stringify(n.body),n.headers={},n.headers["Content-Type"]="application/json"),t.prev=2,t.next=5,fetch(a,Object(h.a)(Object(h.a)({},n),{},{signal:i}));case 5:return r=t.sent,t.next=8,r.json();case 8:return(l=t.sent)&&l.success&&e(l.success,{appearance:"success"}),l&&l.message&&e(l.message,{appearance:"info"}),l&&l.warning&&e(l.warning,{appearance:"warning"}),l&&l.error&&e(l.error,{appearance:"error"}),c(!1),t.abrupt("return",l);case 17:if(t.prev=17,t.t0=t.catch(2),"AbortError"!==t.t0.name){t.next=22;break}return e("Request was aborted",{appearance:"warning"}),t.abrupt("return");case 22:c(!1),console.log(t.t0);case 24:case"end":return t.stop()}}),t,null,[[2,17]])})));return function(e,a){return t.apply(this,arguments)}}(),[e,i])}}function O(){var e=Object(m.g)(),t=N(),a=t.abort,c=t.loading,l=t.request,i=Object(n.useState)(null),s=Object(E.a)(i,2),o=s[0],u=s[1],d=Object(n.useCallback)(Object(b.a)(p.a.mark((function e(){var t;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l("/api/visitor/posts",{method:"GET"});case 2:(t=e.sent)&&t.result&&u(t.result);case 4:case"end":return e.stop()}}),e)}))),[l]);return Object(n.useEffect)((function(){return d(),function(){a()}}),[d]),r.a.createElement("div",{className:"container pt-2"},c?r.a.createElement("div",{className:"d-flex justify-content-center"},r.a.createElement(f.a,{type:"ThreeDots"})):(null===o||void 0===o?void 0:o.length)&&o.map((function(t){return r.a.createElement("div",{className:"post_link",key:t.publication_date,onClick:function(){return a="/post/".concat(t.id),void e.push(a);var a}},t.title)})))}var j=a(4),g=a(176),y=a(9);function _(){return r.a.createElement("div",{className:"d-flex justify-content-center"},r.a.createElement(f.a,{type:"ThreeDots"}))}function w(){var e=Object(m.h)().postId,t=N(),a=t.abort,c=t.loading,l=t.request,i=Object(n.useState)(null),s=Object(E.a)(i,2),o=s[0],u=s[1],d=Object(n.useCallback)(Object(b.a)(p.a.mark((function t(){var a;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,l("/api/visitor/post/".concat(e),{method:"GET"});case 2:(a=t.sent)&&a.result&&u(a.result);case 4:case"end":return t.stop()}}),t)}))),[l,e]);Object(n.useEffect)((function(){return d(),function(){a()}}),[d]);var v=y.a({description:y.b().max(500,"Must be 500 characters or less").required("This field is required")});function f(){return(f=Object(b.a)(p.a.mark((function t(a){return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,l("/api/visitor/post/".concat(e,"/leave_comment"),{method:"POST",body:a});case 2:d();case 3:case"end":return t.stop()}}),t)})))).apply(this,arguments)}return r.a.createElement("div",{className:"container pt-2"},c?r.a.createElement(_,null):o&&r.a.createElement("div",null,"Title: ",r.a.createElement("br",null),o.title," ",r.a.createElement("br",null),"Description: ",r.a.createElement("br",null),o.description," ",r.a.createElement("br",null),"Publication date: ",new Date(o.publication_date).toUTCString()," ",r.a.createElement("br",null),"Author: ",o.nickname," ",r.a.createElement("br",null),r.a.createElement("hr",null),r.a.createElement("div",{className:"leave_comment"},r.a.createElement(j.d,{initialValues:{description:""},validationSchema:v,onSubmit:function(e){return f.apply(this,arguments)}},(function(){return r.a.createElement(j.c,null,"Leave comment:",r.a.createElement("div",{className:"input_container mb-2"},r.a.createElement("div",{className:"label_container"},r.a.createElement("label",{htmlFor:"description"},"Description:")),r.a.createElement("div",{className:"input"},r.a.createElement(j.b,{className:"w-100",id:"description",name:"description",type:"text"})),r.a.createElement("div",{className:"errors_container"},r.a.createElement(j.a,{name:"description"}))),r.a.createElement(g.a,{variant:"contained",color:"secondary",type:"submit",disabled:c},"Leave comment"))}))),r.a.createElement("hr",null),r.a.createElement("div",{className:"comments"},o.comments&&o.comments.map((function(e){return r.a.createElement("div",{key:e.publication_date},"Description: ",r.a.createElement("br",null),e.description," ",r.a.createElement("br",null),"Publication date: ",new Date(e.publication_date).toUTCString()," ",r.a.createElement("br",null),r.a.createElement("hr",null))})))))}var x={userData:{},token:null,isAuthenticated:!1},k=Object(i.b)({name:"authReducer",initialState:x,reducers:{createAuthObj:{reducer:function(e,t){return t.payload},prepare:function(e){return{payload:e}}},updateUserData:{reducer:function(e,t){var a=t.payload,n=Object(h.a)({},e);return n.userData=a,n},prepare:function(e){return{payload:e}}},clearAuthObj:function(){return x}}}),S=k.actions,T=S.createAuthObj,q=S.clearAuthObj,D=S.updateUserData,A=k.reducer;function C(){var e=Object(o.b)(),t=Object(s.useToasts)().addToast,a=N().request,r=Object(n.useState)(!1),c=Object(E.a)(r,2),l=c[0],i=c[1];return{login:Object(n.useCallback)(function(){var t=Object(b.a)(p.a.mark((function t(n){var r,c;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,a("/api/auth/authorize",{method:"POST",body:null,headers:{Authorization:"Bearer ".concat(n)}});case 2:r=t.sent,i(!0),r&&r.verified&&(c=r.user,localStorage.setItem("userData",JSON.stringify({token:n})),e(T({userData:c,token:n,isAuthenticated:!!n})));case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),[e]),logout:Object(n.useCallback)((function(){t("You successfully logged out",{appearance:"success"}),localStorage.removeItem("userData"),e(q()),i(!0)}),[e,t]),ready:l}}function P(){var e=C().login,t=N(),a=t.abort,c=t.request,l=t.loading,i=y.a({email:y.b().max(255,"Must be 255 characters or less").email("Enter please valid email").required("This field is required"),password:y.b().max(255,"Must be 255 characters or less").min(8,"Must be 8 characters or more").required("This field is required")});function s(){return(s=Object(b.a)(p.a.mark((function t(a){var n;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,c("/api/auth/login",{method:"POST",body:{user:a}});case 2:(n=t.sent)&&n.token&&e(n.token);case 4:case"end":return t.stop()}}),t)})))).apply(this,arguments)}return Object(n.useEffect)((function(){return function(){a()}}),[]),r.a.createElement("div",{className:"container"},r.a.createElement(j.d,{initialValues:{email:"",password:""},validationSchema:i,onSubmit:function(e){return s.apply(this,arguments)}},(function(e){return r.a.createElement(j.c,null,r.a.createElement("div",{className:"input_container mb-2"},r.a.createElement("div",{className:"label_container"},r.a.createElement("label",{htmlFor:"email"},"Email:")),r.a.createElement("div",{className:"input"},r.a.createElement(j.b,{className:"w-100",id:"email",name:"email",type:"text"})),r.a.createElement("div",{className:"errors_container"},r.a.createElement(j.a,{name:"email"}))),r.a.createElement("div",{className:"input_container mb-2"},r.a.createElement("div",{className:"label_container"},r.a.createElement("label",{htmlFor:"password"},"Password:")),r.a.createElement("div",{className:"input"},r.a.createElement(j.b,{className:"w-100",id:"password",name:"password",type:"text"})),r.a.createElement("div",{className:"errors_container"},r.a.createElement(j.a,{name:"password"}))),r.a.createElement("div",{className:"helpful_container"},"Don't have an account? Register ",r.a.createElement(u.b,{to:"/register"},"Here.")),r.a.createElement(g.a,{variant:"contained",color:"secondary",type:"submit",disabled:l},"Login"))})))}function M(){var e=Object(m.g)(),t=N(),a=t.abort,c=t.request,l=t.loading,i=y.a({nickname:y.b().max(30,"Must be 30 characters or less").required("This field is required"),email:y.b().max(255,"Must be 255 characters or less").email("Enter please valid email").required("This field is required"),password:y.b().max(255,"Must be 255 characters or less").min(8,"Must be 8 characters or more").required("This field is required")});function s(){return(s=Object(b.a)(p.a.mark((function t(a){return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,c("/api/auth/register",{method:"POST",body:{user:a}});case 2:e.push("/login");case 3:case"end":return t.stop()}}),t)})))).apply(this,arguments)}return Object(n.useEffect)((function(){return function(){a()}}),[]),r.a.createElement("div",{className:"container"},r.a.createElement(j.d,{initialValues:{nickname:"",email:"",password:""},validationSchema:i,onSubmit:function(e){return s.apply(this,arguments)}},(function(e){return r.a.createElement(j.c,null,r.a.createElement("div",{className:"input_container mb-2"},r.a.createElement("div",{className:"label_container"},r.a.createElement("label",{htmlFor:"nickname"},"Nickname:")),r.a.createElement("div",{className:"input"},r.a.createElement(j.b,{className:"w-100",id:"nickname",name:"nickname",type:"text"})),r.a.createElement("div",{className:"errors_container"},r.a.createElement(j.a,{name:"nickname"}))),r.a.createElement("div",{className:"input_container mb-2"},r.a.createElement("div",{className:"label_container"},r.a.createElement("label",{htmlFor:"email"},"Email:")),r.a.createElement("div",{className:"input"},r.a.createElement(j.b,{className:"w-100",id:"email",name:"email",type:"text"})),r.a.createElement("div",{className:"errors_container"},r.a.createElement(j.a,{name:"email"}))),r.a.createElement("div",{className:"input_container mb-2"},r.a.createElement("div",{className:"label_container"},r.a.createElement("label",{htmlFor:"password"},"Password:")),r.a.createElement("div",{className:"input"},r.a.createElement(j.b,{className:"w-100",id:"password",name:"password",type:"text"})),r.a.createElement("div",{className:"errors_container"},r.a.createElement(j.a,{name:"password"}))),r.a.createElement("div",{className:"helpful_container"},"Already have an account? Login ",r.a.createElement(u.b,{to:"/login"},"Here.")),r.a.createElement(g.a,{variant:"contained",color:"secondary",type:"submit",disabled:l},"Register"))})))}function F(){return r.a.createElement(m.d,null,r.a.createElement(m.b,{path:"/",exact:!0},r.a.createElement("div",{className:"container"},"Hey you need to authenticate yourself!",r.a.createElement("hr",null),"Lorem ipsum dolor sit amet, consectetur adipisicing elit. Ad, consectetur, rerum! Delectus esse et facilis, iusto maxime quae reprehenderit soluta voluptates? Accusamus laboriosam nulla quas sunt voluptates? Ad alias amet eligendi fugiat, illum iure iusto, labore officia quas reprehenderit similique.")),r.a.createElement(m.b,{path:"/posts",exact:!0},r.a.createElement(O,null)),r.a.createElement(m.b,{path:"/post/:postId",exact:!0},r.a.createElement(w,null)),r.a.createElement(m.b,{path:"/login",exact:!0},r.a.createElement(P,null)),r.a.createElement(m.b,{path:"/register",exact:!0},r.a.createElement(M,null)),r.a.createElement(m.a,{to:"/"}))}function R(e){var t=Object.assign({},e),a=Object(j.e)(t),n=Object(E.a)(a,1)[0];return r.a.createElement("textarea",Object.assign({},n,t))}function L(){var e=Object(o.c)((function(e){return e.authReducer})).token,t=N(),a=t.abort,c=t.request,l=t.loading,i=y.a({title:y.b().max(255,"Must be 255 characters or less").required("This field is required"),description:y.b().max(5e3,"Must be 5000 characters or less").required("This field is required")});function s(){return(s=Object(b.a)(p.a.mark((function t(a){return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,c("/api/user/post/create",{method:"POST",body:a,headers:{Authorization:"Bearer ".concat(e)}});case 2:case"end":return t.stop()}}),t)})))).apply(this,arguments)}return Object(n.useEffect)((function(){return function(){a()}}),[]),r.a.createElement("div",null,r.a.createElement(j.d,{initialValues:{title:"",description:""},validationSchema:i,onSubmit:function(e){return s.apply(this,arguments)}},(function(e){return r.a.createElement(j.c,null,r.a.createElement("div",{className:"input_container mb-2"},r.a.createElement("div",{className:"label_container"},r.a.createElement("label",{htmlFor:"title"},"Title:")),r.a.createElement("div",{className:"input"},r.a.createElement(j.b,{className:"w-100",id:"title",name:"title",type:"text"})),r.a.createElement("div",{className:"errors_container"},r.a.createElement(j.a,{name:"title"}))),r.a.createElement("div",{className:"input_container mb-2"},r.a.createElement("div",{className:"label_container"},r.a.createElement("label",{htmlFor:"description"},"Description:")),r.a.createElement("div",{className:"input"},r.a.createElement(R,{className:"w-100",id:"description",name:"description",rows:"10"})),r.a.createElement("div",{className:"errors_container"},r.a.createElement(j.a,{name:"description"}))),r.a.createElement(g.a,{variant:"contained",color:"secondary",type:"submit",disabled:l},"Create post"))})))}function U(){var e=Object(m.i)(),t=Object(o.c)((function(e){return e.authReducer})).token,a=N(),c=a.abort,l=a.request,i=a.loading,s=Object(n.useState)(null),d=Object(E.a)(s,2),p=d[0],b=d[1];return Object(n.useEffect)((function(){return l("/api/user/posts",{method:"GET",body:null,headers:{Authorization:"Bearer ".concat(t)}}).then((function(e){e&&e.result&&b(e.result)})),function(){c()}}),[t]),r.a.createElement("div",null,i?r.a.createElement(_,null):r.a.createElement("div",null,p&&p.length?p.map((function(t){return r.a.createElement("div",{key:t.publication_date},r.a.createElement(u.b,{to:"".concat(e.path,"/").concat(t.id)},t.title))})):r.a.createElement("div",null,"You dont have posts")))}var z=a(113),I=a(182),B=a(180),V=function(){};function J(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:V,t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:V,c=Object(n.useState)(!1),l=Object(E.a)(c,2),i=l[0],s=l[1],o=Object(n.useState)(""),u=Object(E.a)(o,2),m=u[0],d=u[1],p=Object(n.useState)(!t),b=Object(E.a)(p,2),v=b[0],f=b[1];function h(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";d(e)}function N(){s(!i)}function O(){e(),s(!1)}function j(){a(),s(!1)}Object(n.useEffect)((function(){return i?document.body.classList.add("confirm"):document.body.classList.remove("confirm"),function(){document.body.classList.remove("confirm")}}),[i]);var y=i?r.a.createElement("div",{className:"confirmation_container"},r.a.createElement("div",{className:"confirmation_content"},r.a.createElement("div",{className:"confirmation_message"},m),t?r.a.createElement("div",{className:"check_mark"},r.a.createElement(I.a,{label:"I agree",control:r.a.createElement(B.a,{onChange:function(){return f(!v)},color:"primary"})})):null,r.a.createElement("div",{className:"buttons_container mt-3"},r.a.createElement(g.a,{className:"mr-2",variant:"contained",color:"primary",onClick:O,disabled:!v},"Confirm"),r.a.createElement(g.a,{variant:"contained",color:"secondary",onClick:j},"Cancel")))):null;return{modal:y,handleShowChange:N,handleMessageChange:h}}function G(){var e=Object(m.g)(),t=Object(n.useState)(null),a=Object(E.a)(t,2),c=a[0],l=a[1],i=Object(n.useState)(!1),s=Object(E.a)(i,2),u=s[0],d=s[1],v=Object(n.useState)({title:(null===c||void 0===c?void 0:c.title)||"",description:(null===c||void 0===c?void 0:c.description)||""}),f=Object(E.a)(v,2),h=f[0],O=f[1],_=N(),w=_.abort,x=_.request,k=_.loading,S=J((function(){return M.apply(this,arguments)})),T=S.modal,q=S.handleShowChange,D=S.handleMessageChange,A=Object(o.c)((function(e){return e.authReducer})).token,C=Object(m.h)().postId;Object(n.useEffect)((function(){return x("/api/user/post/".concat(C),{method:"GET",body:null,headers:{Authorization:"Bearer ".concat(A)}}).then((function(e){F(e)})),function(){w()}}),[C,A]);var P=Object(j.f)({enableReinitialize:!0,initialValues:h,validationSchema:y.a({title:y.b().max(255,"Must be 255 characters or less").required("This field is required"),description:y.b().max(5e3,"Must be 5000 characters or less").required("This field is required")}),onSubmit:function(){var e=Object(b.a)(p.a.mark((function e(t){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x("/api/user/post/".concat(C),{method:"PUT",body:t,headers:{Authorization:"Bearer ".concat(A)}});case 2:F(e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()});function M(){return(M=Object(b.a)(p.a.mark((function t(){return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,x("/api/user/post/".concat(C),{method:"DELETE",body:null,headers:{Authorization:"Bearer ".concat(A)}});case 2:e.push("/user/account/my_posts");case 3:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function F(e){e&&e.result&&(l(e.result),O({title:e.result.title,description:e.result.description}))}return Object(n.useEffect)((function(){Object(z.isEqual)(P.initialValues,P.values)?d(!1):d(!0)}),[P.initialValues,P.values]),r.a.createElement("div",null,r.a.createElement("div",null,c&&r.a.createElement(r.a.Fragment,null,r.a.createElement("form",{onSubmit:P.handleSubmit},r.a.createElement("div",{className:"input_container mb-2"},r.a.createElement("div",{className:"label_container"},r.a.createElement("label",{htmlFor:"title"},"Title:")),r.a.createElement("div",{className:"input"},r.a.createElement("input",Object.assign({id:"title",type:"text"},P.getFieldProps("title")))),r.a.createElement("div",{className:"errors_container"},P.touched.title&&P.errors.title?r.a.createElement(r.a.Fragment,null,P.errors.title):null)),r.a.createElement("div",{className:"input_container mb-2"},r.a.createElement("div",{className:"label_container"},r.a.createElement("label",{htmlFor:"description"},"Description:")),r.a.createElement("div",{className:"input"},r.a.createElement("textarea",Object.assign({className:"w-100",id:"description",rows:"10"},P.getFieldProps("description")))),r.a.createElement("div",{className:"errors_container"},P.touched.description&&P.errors.description?r.a.createElement(r.a.Fragment,null,P.errors.description):null)),r.a.createElement("div",{className:"publication_date"},"Publication date: ",r.a.createElement("br",null),new Date(c.publication_date).toUTCString()),r.a.createElement("div",{className:"last_update_date"},"Last time updated: ",r.a.createElement("br",null),new Date(c.last_update_date).toUTCString()),r.a.createElement("div",{className:"d-flex buttons_container mt-2"},r.a.createElement(g.a,{className:"mr-2",variant:"contained",color:"secondary",type:"submit",disabled:!!k||!u},"Update"),r.a.createElement(g.a,{variant:"contained",color:"secondary",type:"button",disabled:k,onClick:function(){q(),D(r.a.createElement("div",null,"Are you sure you want to delete this post?"))}},"Delete Post"),T)))))}function H(){var e=Object(o.c)((function(e){return e.authReducer})).userData,t=e.id,a=e.nickname,n=e.email,c=e.creation_date;return r.a.createElement("div",null,r.a.createElement("div",{className:"account_data_container"},"id: ",t),r.a.createElement("div",{className:"account_data_container"},"nickname: ",a),r.a.createElement("div",{className:"account_data_container"},"email: ",n),r.a.createElement("div",{className:"account_data_container"},"creation_date: ",new Date(c).toUTCString()))}var W=a(181),Y=a(179);function K(){var e=Object(o.c)((function(e){return e.authReducer})),t=e.token,a=e.userData,c=Object(o.b)(),l=N(),i=l.abort,s=l.request,u=l.loading,m=a.id,d=a.nickname,v=a.email,f=Object(n.useState)(0),h=Object(E.a)(f,2),O=h[0],_=h[1],w=Object(j.f)({initialValues:{email:""},validationSchema:y.a({email:y.b().max(255,"Must be 255 characters or less").email("Enter please valid email").required("This field is required")}),onSubmit:function(){var e=Object(b.a)(p.a.mark((function e(a){var n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s("/api/user/".concat(m,"/email"),{method:"PUT",body:{changes:a},headers:{Authorization:"Bearer ".concat(t)}});case 2:(n=e.sent)&&n.result&&c(D(n.result));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}),x=Object(j.f)({initialValues:{nickname:""},validationSchema:y.a({nickname:y.b().max(30,"Must be 30 characters or less").required("This field is required")}),onSubmit:function(){var e=Object(b.a)(p.a.mark((function e(a){var n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s("/api/user/".concat(m,"/nickname"),{method:"PUT",body:{changes:a},headers:{Authorization:"Bearer ".concat(t)}});case 2:(n=e.sent)&&n.result&&c(D(n.result));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()});return Object(n.useEffect)((function(){return function(){i()}}),[]),r.a.createElement("div",{className:"account_setting_container"},r.a.createElement("div",{className:"setting_data_container border-top border-bottom"},1===O&&w.errors.email?r.a.createElement("div",{className:"errors_container"},r.a.createElement(Y.a,{severity:"error"},w.errors.email)):null,r.a.createElement("div",{className:"data_container p-2"},r.a.createElement("div",{className:"row mb-2"},r.a.createElement("div",{className:"label col-3"},"Email:"),r.a.createElement("div",{className:"value col-9"},v)),r.a.createElement(W.a,{in:1===O},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"label col-3"},"new Email:"),r.a.createElement("div",{className:"value col-9"},r.a.createElement("form",{onSubmit:w.handleSubmit},r.a.createElement("input",Object.assign({id:"email",type:"text"},w.getFieldProps("email"))),r.a.createElement("div",{className:"mt-2"},r.a.createElement(g.a,{variant:"contained",color:"primary",type:"submit",disabled:u},"Submit")))))),r.a.createElement("div",{className:"collapse_opener"},r.a.createElement("a",{href:"/",onClick:function(e){e.preventDefault(),_(1===O?0:1)}},"Show")))),r.a.createElement("div",{className:"setting_data_container border-top border-bottom"},2===O&&x.errors.nickname?r.a.createElement("div",{className:"errors_container"},r.a.createElement(Y.a,{severity:"error"},x.errors.nickname)):null,r.a.createElement("div",{className:"data_container p-2"},r.a.createElement("div",{className:"row mb-2"},r.a.createElement("div",{className:"label col-3"},"nickname:"),r.a.createElement("div",{className:"value col-9"},d)),r.a.createElement(W.a,{in:2===O},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"label col-3"},"new Nickname:"),r.a.createElement("div",{className:"value col-9"},r.a.createElement("form",{onSubmit:x.handleSubmit},r.a.createElement("input",Object.assign({id:"nickname",type:"text"},x.getFieldProps("nickname"))),r.a.createElement("div",{className:"mt-2"},r.a.createElement(g.a,{variant:"contained",color:"primary",type:"submit",disabled:u},"Submit")))))),r.a.createElement("div",{className:"collapse_opener"},r.a.createElement("a",{href:"/",onClick:function(e){e.preventDefault(),_(2===O?0:2)}},"Show")))))}function Q(){var e=Object(m.i)(),t=C().logout,a=J((function(){t()}),!1),n=a.modal,c=a.handleShowChange,l=a.handleMessageChange;return r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"row pt-4"},r.a.createElement("ul",{className:"account_navbar col-2"},r.a.createElement("li",null,r.a.createElement(u.b,{to:e.url},"Account info")),r.a.createElement("li",null,r.a.createElement(u.b,{to:"".concat(e.url,"/settings")},"Settings")),r.a.createElement("li",null,r.a.createElement(u.b,{to:"".concat(e.url,"/post/create")},"Write post")),r.a.createElement("li",null,r.a.createElement(u.b,{to:"".concat(e.url,"/my_posts")},"My posts")),r.a.createElement("li",null,r.a.createElement("a",{href:"/",onClick:function(e){e.preventDefault(),l(r.a.createElement("div",null,"Are you sure you want to logout?")),c()}},"Logout"),n)),r.a.createElement("div",{className:"account_content col-10"},r.a.createElement(m.d,null,r.a.createElement(m.b,{path:e.path,exact:!0},r.a.createElement(H,null)),r.a.createElement(m.b,{path:"".concat(e.path,"/settings"),exact:!0},r.a.createElement(K,null)),r.a.createElement(m.b,{path:"".concat(e.path,"/post/create"),exact:!0},r.a.createElement(L,null)),r.a.createElement(m.b,{path:"".concat(e.url,"/my_posts"),exact:!0},r.a.createElement(U,null)),r.a.createElement(m.b,{path:"".concat(e.url,"/my_posts/:postId"),exact:!0},r.a.createElement(G,null)),r.a.createElement(m.a,{to:e.path})))))}function X(){var e=Object(o.c)((function(e){return e.authReducer})).userData.nickname;return r.a.createElement(m.d,null,r.a.createElement(m.b,{path:"/",exact:!0},r.a.createElement("div",{className:"container p-2"},"Welcome ",e,"!",r.a.createElement("hr",null),"Lorem ipsum dolor sit amet, consectetur adipisicing elit. Ad, consectetur, rerum! Delectus esse et facilis, iusto maxime quae reprehenderit soluta voluptates? Accusamus laboriosam nulla quas sunt voluptates? Ad alias amet eligendi fugiat, illum iure iusto, labore officia quas reprehenderit similique.")),r.a.createElement(m.b,{path:"/posts",exact:!0},r.a.createElement(O,null)),r.a.createElement(m.b,{path:"/post/:postId",exact:!0},r.a.createElement(w,null)),r.a.createElement(m.b,{path:"/user/account"},r.a.createElement(Q,null)),r.a.createElement(m.a,{to:"/"}))}function Z(){var e=Object(o.c)((function(e){return e.authReducer})).isAuthenticated;return r.a.createElement("div",{className:"p-2 bg-dark text-white"},r.a.createElement("div",{className:"container d-flex justify-content-between"},r.a.createElement("div",{className:"logo"},"POST ME"),r.a.createElement("div",{className:"navbar d-flex"},r.a.createElement(u.b,{to:"/",className:"mr-2"},"Home"),r.a.createElement(u.b,{to:"/posts",className:"mr-2"},"Posts"),r.a.createElement(u.b,{to:e?"/user/account":"/login"},"Account"))))}function $(){var e=function(){var e=C(),t=e.login,a=e.ready,r=Object(n.useState)(!1),c=Object(E.a)(r,2),l=c[0],i=c[1];return Object(n.useEffect)((function(){i(a)}),[a]),Object(n.useEffect)((function(){var e=JSON.parse(localStorage.getItem("userData"));e&&e.token?t(e.token):i(!0)}),[t]),{isReady:l}}().isReady,t=Object(o.c)((function(e){return e.authReducer})).isAuthenticated,a=Object(s.useToasts)(),c=a.toastStack,l=a.removeToast;return Object(n.useEffect)((function(){c.length>5&&l(c[0].id)}),[c,c.length,l]),e?r.a.createElement(u.a,null,r.a.createElement("div",{className:"App"},r.a.createElement(Z,null),t?r.a.createElement(X,null):r.a.createElement(F,null))):r.a.createElement(_,null)}var ee=a(28),te=Object(ee.c)({authReducer:A}),ae=(a(159),Object(i.a)({reducer:te,middleware:Object(i.c)()})),ne=r.a.createElement(o.a,{store:ae},r.a.createElement(s.ToastProvider,{autoDismiss:!0,autoDismissTimeout:4e3,placement:"bottom-left"},r.a.createElement($,null)));l.a.render(ne,document.getElementById("root"))}},[[123,1,2]]]);
//# sourceMappingURL=main.f42527d9.chunk.js.map